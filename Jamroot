path-constant TOP : . ;
include $(TOP)/sanity.jam ;

boost 103600 ;
max-order = [ option.get "max-kenlm-order" : 6 : 6 ] ;
project : requirements $(requirements) <define>KENLM_MAX_ORDER=$(max-order) ;
project : default-build <threading>multi <warnings>on <variant>release ;

external-lib z ;

build-project lm ;
build-project util ;

install-bin-libs lm//query lm//build_binary ;
install-headers headers : [ glob-tree *.hh : dist ] : . ;
alias install : prefix-bin prefix-lib prefix-include ; 
explicit prefix-include ;
explicit install ;
